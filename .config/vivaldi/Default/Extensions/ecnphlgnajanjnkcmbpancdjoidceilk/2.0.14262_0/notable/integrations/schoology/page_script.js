!function(){var e,t,n="https://web.kamihq.com";e=this,t=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(2),o=n(3),a=n(4),s=n(22),c=r(n(10));c.Axios=a,c.create=function(e){return r(s(c.defaults,e))},c.Cancel=n(23),c.CancelToken=n(24),c.isCancel=n(9),c.all=function(e){return Promise.all(e)},c.spread=n(25),c.isAxiosError=n(26),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";function r(e){return"[object Array]"===l.call(e)}function i(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function a(e){if("[object Object]"!==l.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function s(e){return"[object Function]"===l.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var u=n(3),l=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===l.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:a,isUndefined:i,isDate:function(e){return"[object Date]"===l.call(e)},isFile:function(e){return"[object File]"===l.call(e)},isBlob:function(e){return"[object Blob]"===l.call(e)},isFunction:s,isStream:function(e){return o(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){function t(t,i){a(n[i])&&a(t)?n[i]=e(n[i],t):a(t)?n[i]=e({},t):r(t)?n[i]=t.slice():n[i]=t}for(var n={},i=0,o=arguments.length;i<o;i++)c(arguments[i],t);return n},extend:function(e,t,n){return c(t,function(t,r){e[r]=n&&"function"==typeof t?u(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var i=n(2),o=n(5),a=n(6),s=n(7),c=n(22);r.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(c(n||{},{method:e,url:t,data:(n||{}).data}))}}),i.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(c(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(2);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(2);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(2),o=n(8),a=n(9),s=n(10);e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(r(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(2),o=n(11),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(12):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(e=n(12)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){s.headers[e]={}}),i.forEach(["post","put","patch"],function(e){s.headers[e]=i.merge(a)}),e.exports=s},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(2),i=n(13),o=n(16),a=n(5),s=n(17),c=n(20),u=n(21),l=n(14);e.exports=function(e){return new Promise(function(t,n){var d=e.data,p=e.headers;r.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(f+":"+m)}var g=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};i(t,n,o),h=null}},h.onabort=function(){h&&(n(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||u(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in h&&r.forEach(p,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){h&&(h.abort(),n(e),h=null)}),d||(d=null),h.send(d)})}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(18),i=n(19);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(2),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){function n(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(o[i]=n(void 0,e[i])):o[i]=n(e[i],t[i])}t=t||{};var o={},a=["url","method","data"],s=["headers","auth","proxy","params"],c=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];r.forEach(a,function(e){r.isUndefined(t[e])||(o[e]=n(void 0,t[e]))}),r.forEach(s,i),r.forEach(c,function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(o[i]=n(void 0,e[i])):o[i]=n(void 0,t[i])}),r.forEach(u,function(r){r in t?o[r]=n(e[r],t[r]):r in e&&(o[r]=n(void 0,e[r]))});var l=a.concat(s).concat(c).concat(u),d=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===l.indexOf(e)});return r.forEach(d,i),o}},function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}var i=n(23);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.axios=t():e.axios=t(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ProgressBar=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(){var e=this||Function("return this")(),r=function(){"use strict";function r(){}function i(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function o(e,t){return i(t,function(n){e[n]=t[n]}),e}function a(e,t){i(t,function(n){void 0===e[n]&&(e[n]=t[n])})}function s(e,t,n,r,i,o,a){var s,u,l,d=e<o?0:(e-o)/i;for(s in t)t.hasOwnProperty(s)&&(l="function"==typeof(u=a[s])?u:h[u],t[s]=c(n[s],r[s],l,d));return t}function c(e,t,n,r){return e+(t-e)*n(r)}function u(e,t){var n=p.prototype.filter,r=e._filterArgs;i(n,function(i){void 0!==n[i][t]&&n[i][t].apply(e,r)})}function l(e,t,n,r,i,o,a,c,l,d,p){m=t+n+r,g=Math.min(p||k(),m),y=g>=m,v=r-(m-g),e.isPlaying()&&(y?(l(a,e._attachment,v),e.stop(!0)):(e._scheduleId=d(e._timeoutHandler,w),u(e,"beforeTween"),g<t+n?s(1,i,o,a,1,1,c):s(g,i,o,a,r,t+n,c),u(e,"afterTween"),l(i,e._attachment,v)))}function d(e,t){var n={},r=typeof t;return i(e,"string"===r||"function"===r?function(e){n[e]=t}:function(e){n[e]||(n[e]=t[e]||_)}),n}function p(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=f,void 0!==t&&this.setConfig(t)}var h,f,m,g,y,v,_="linear",w=1e3/60,b=Date.now?Date.now:function(){return+new Date},k="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:b;return f="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,p.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=k(),this._start(this.get(),this._attachment),this.resume())},p.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||r,this._step=e.step||r,this._finish=e.finish||r,this._duration=e.duration||500,this._currentState=o({},e.from||this.get()),this._originalState=this.get(),this._targetState=o({},e.to||this.get());var t=this;this._timeoutHandler=function(){l(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var n=this._currentState,i=this._targetState;return a(i,n),this._easing=d(n,e.easing||_),this._filterArgs=[n,this._originalState,i,this._easing],u(this,"tweenCreated"),this},p.prototype.get=function(){return o({},this._currentState)},p.prototype.set=function(e){this._currentState=e},p.prototype.pause=function(){return this._pausedAtTime=k(),this._isPaused=!0,this},p.prototype.resume=function(){return this._isPaused&&(this._timestamp+=k()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},p.prototype.seek=function(e){e=Math.max(e,0);var t=k();return this._timestamp+e===0?this:(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,l(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},p.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=r,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),t&&(u(this,"beforeTween"),s(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),u(this,"afterTween"),u(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},p.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},p.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},p.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},p.prototype.filter={},p.prototype.formula={linear:function(e){return e}},h=p.prototype.formula,o(p,{now:k,each:i,tweenProps:s,tweenProp:c,applyFilter:u,shallowCopy:o,defaults:a,composeEasingObject:d}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=l),"object"==typeof n?t.exports=p:void 0===e.Tweenable&&(e.Tweenable=p),p}();r.shallowCopy(r.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),function(){function e(e,t,n,r,i,o){function a(e){return((u*e+l)*e+d)*e}function s(e){return(3*u*e+2*l)*e+d}function c(e){return e>=0?e:0-e}var u=0,l=0,d=0,p=0,h=0,f=0;return u=1-(d=3*t)-(l=3*(r-t)-d),p=1-(f=3*n)-(h=3*(i-n)-f),function(e,t){return function(e){return((p*e+h)*e+f)*e}(function(e,t){var n,r,i,o,u,l;for(i=e,l=0;l<8;l++){if(c(o=a(i)-e)<t)return i;if(c(u=s(i))<1e-6)break;i-=o/u}if(r=1,(i=e)<(n=0))return n;if(i>r)return r;for(;n<r;){if(c((o=a(i))-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i}(e,t))}(e,function(e){return 1/(200*e)}(o))}function t(t,n,r,i){return function(o){return e(o,t,n,r,i,1)}}r.setBezierFunction=function(e,n,i,o,a){var s=t(n,i,o,a);return s.displayName=e,s.x1=n,s.y1=i,s.x2=o,s.y2=a,r.prototype.formula[e]=s},r.unsetBezierFunction=function(e){delete r.prototype.formula[e]}}(),function(){var e=new r;e._filterArgs=[],r.interpolate=function(t,n,i,o,a){var s=r.shallowCopy({},t),c=a||0,u=r.composeEasingObject(t,o||"linear");e.set({});var l=e._filterArgs;l.length=0,l[0]=s,l[1]=t,l[2]=n,l[3]=u,r.applyFilter(e,"tweenCreated"),r.applyFilter(e,"beforeTween");var d=function(e,t,n,i,o,a){return r.tweenProps(i,t,e,n,1,a,o)}(t,s,n,i,u,c);return r.applyFilter(e,"afterTween"),d}}(),function(e){function t(t){e.each(t,function(e){var r=t[e];"string"==typeof r&&r.match(y)&&(t[e]=function(e){return i(y,e,n)}(r))})}function n(e){var t=function(e){return 3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),_[0]=r(e.substr(0,2)),_[1]=r(e.substr(2,2)),_[2]=r(e.substr(4,2)),_}(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function r(e){return parseInt(e,16)}function i(e,t,n){var r=t.match(e),i=t.replace(e,v);if(r)for(var o,a=r.length,s=0;s<a;s++)o=r.shift(),i=i.replace(v,n(o));return i}function o(e){for(var t=e.match(f),n=t.length,r=e.match(g)[0],i=0;i<n;i++)r+=parseInt(t[i],10)+",";return r.slice(0,-1)+")"}function a(t){var n={};return e.each(t,function(e){var r=t[e];if("string"==typeof r){var i=u(r);n[e]={formatString:function(e){var t=e.match(h);return t?(1===t.length||e.charAt(0).match(p))&&t.unshift(""):t=["",""],t.join(v)}(r),chunkNames:function(e,t){var n,r=[],i=e.length;for(n=0;n<i;n++)r.push("_"+t+"_"+n);return r}(i,e)}}}),n}function s(t,n){e.each(n,function(e){for(var r=u(t[e]),i=r.length,o=0;o<i;o++)t[n[e].chunkNames[o]]=+r[o];delete t[e]})}function c(t,n){e.each(n,function(e){var r=t[e],a=function(e,t){w.length=0;for(var n=t.length,r=0;r<n;r++)w.push(e[t[r]]);return w}(function(e,t){for(var n,r={},i=t.length,o=0;o<i;o++)n=t[o],r[n]=e[n],delete e[n];return r}(t,n[e].chunkNames),n[e].chunkNames);r=function(e,t){for(var n=e,r=t.length,i=0;i<r;i++)n=n.replace(v,+t[i].toFixed(4));return n}(n[e].formatString,a),t[e]=function(e){return i(m,e,o)}(r)})}function u(e){return e.match(f)}function l(t,n){e.each(n,function(e){var r,i=n[e].chunkNames,o=i.length,a=t[e];if("string"==typeof a){var s=a.split(" "),c=s[s.length-1];for(r=0;r<o;r++)t[i[r]]=s[r]||c}else for(r=0;r<o;r++)t[i[r]]=a;delete t[e]})}function d(t,n){e.each(n,function(e){var r=n[e].chunkNames,i=r.length,o=t[r[0]];if("string"===typeof o){for(var a="",s=0;s<i;s++)a+=" "+t[r[s]],delete t[r[s]];t[e]=a.substr(1)}else t[e]=o})}var p=/(\d|\-|\.)/,h=/([^\-0-9\.]+)/g,f=/[0-9.\-]+/g,m=new RegExp("rgb\\("+f.source+/,\s*/.source+f.source+/,\s*/.source+f.source+"\\)","g"),g=/^.*\(/,y=/#([0-9]|[a-f]){3,6}/gi,v="VAL",_=[],w=[];e.prototype.filter.token={tweenCreated:function(e,n,r,i){t(e),t(n),t(r),this._tokenData=a(e)},beforeTween:function(e,t,n,r){l(r,this._tokenData),s(e,this._tokenData),s(t,this._tokenData),s(n,this._tokenData)},afterTween:function(e,t,n,r){c(e,this._tokenData),c(t,this._tokenData),c(n,this._tokenData),d(r,this._tokenData)}}}(r)}).call(null)},{}],2:[function(e,t,n){var r=e("./shape"),i=e("./utils"),o=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,r.apply(this,arguments)};(o.prototype=new r).constructor=o,o.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return i.render(this._pathTemplate,{radius:n,"2radius":2*n})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":7,"./utils":9}],3:[function(e,t,n){var r=e("./shape"),i=e("./utils"),o=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",r.apply(this,arguments)};(o.prototype=new r).constructor=o,o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},o.prototype._pathString=function(e){return i.render(this._pathTemplate,{center:e.strokeWidth/2})},o.prototype._trailString=function(e){return this._pathString(e)},t.exports=o},{"./shape":7,"./utils":9}],4:[function(e,t,n){t.exports={Line:e("./line"),Circle:e("./circle"),SemiCircle:e("./semicircle"),Square:e("./square"),Path:e("./path"),Shape:e("./shape"),utils:e("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(e,t,n){var r=e("shifty"),i=e("./utils"),o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},a=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");var r;n=i.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},n),r=i.isString(t)?document.querySelector(t):t,this.path=r,this._opts=n,this._tweenable=null;var o=this.path.getTotalLength();this.path.style.strokeDasharray=o+" "+o,this.set(0)};a.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},a.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(i.isFunction(t)){var n=this._easing(this._opts.easing);t(this._calculateTo(e,n),this._opts.shape||this,this._opts.attachment)}},a.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},a.prototype.animate=function(e,t,n){t=t||{},i.isFunction(t)&&(n=t,t={});var o=i.extend({},t),a=i.extend({},this._opts);t=i.extend(a,t);var s=this._easing(t.easing),c=this._resolveFromAndTo(e,s,o);this.stop(),this.path.getBoundingClientRect();var u=this._getComputedDashOffset(),l=this._progressToOffset(e),d=this;this._tweenable=new r,this._tweenable.tween({from:i.extend({offset:u},c.from),to:i.extend({offset:l},c.to),duration:t.duration,easing:s,step:function(e){d.path.style.strokeDashoffset=e.offset;var n=t.shape||d;t.step(e,n,t.attachment)},finish:function(e){i.isFunction(n)&&n()}})},a.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},a.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},a.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},a.prototype._calculateFrom=function(e){return r.interpolate(this._opts.from,this._opts.to,this.value(),e)},a.prototype._calculateTo=function(e,t){return r.interpolate(this._opts.from,this._opts.to,e,t)},a.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},a.prototype._easing=function(e){return o.hasOwnProperty(e)?o[e]:e},t.exports=a},{"./utils":9,shifty:1}],6:[function(e,t,n){var r=e("./shape"),i=e("./circle"),o=e("./utils"),a=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,r.apply(this,arguments)};(a.prototype=new r).constructor=a,a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},a.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?o.setStyle(n,"transform","translate(-50%, 0)"):o.setStyle(n,"transform","translate(-50%, 50%)"))},a.prototype._pathString=i.prototype._pathString,a.prototype._trailString=i.prototype._trailString,t.exports=a},{"./circle":2,"./shape":7,"./utils":9}],7:[function(e,t,n){var r=e("./path"),i=e("./utils"),o="Object is destroyed",a=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),i.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),i.isObject(n)&&i.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var o,a=this._createSvgView(this._opts);if(!(o=i.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=o,this._container.appendChild(a.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&i.setStyles(a.svg,this._opts.svgStyle),this.svg=a.svg,this.path=a.path,this.trail=a.trail,this.text=null;var s=i.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new r(a.path,s),i.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};a.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(o);this._progressPath.animate(e,t,n)},a.prototype.stop=function(){if(null===this._progressPath)throw new Error(o);void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.destroy=function(){if(null===this._progressPath)throw new Error(o);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(e){if(null===this._progressPath)throw new Error(o);this._progressPath.set(e)},a.prototype.value=function(){if(null===this._progressPath)throw new Error(o);return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(e){if(null===this._progressPath)throw new Error(o);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),i.isObject(e)?(i.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},a.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var r=this._createPath(e);return t.appendChild(r),{svg:t,path:r,trail:n}},a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},a.prototype._createTrail=function(e){var t=this._trailString(e),n=i.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},a.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},a.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var r=e.text.style;return r&&(e.text.autoStyleContainer&&(t.style.position="relative"),i.setStyles(n,r),r.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},a.prototype._initializeTextContainer=function(e,t,n){},a.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),r=parseFloat(t.getPropertyValue("height"),10);i.floatEquals(this.containerAspectRatio,n/r)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",n/r),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},t.exports=a},{"./path":5,"./utils":9}],8:[function(e,t,n){var r=e("./shape"),i=e("./utils"),o=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",r.apply(this,arguments)};(o.prototype=new r).constructor=o,o.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return i.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},o.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return i.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=o},{"./shape":7,"./utils":9}],9:[function(e,t,n){function r(e,t,n){for(var r=e.style,o=0;o<s.length;++o){r[s[o]+i(t)]=n}r[t]=n}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)&&("object"===typeof e&&!!e)}function a(e,t){for(var n in e)if(e.hasOwnProperty(n)){t(e[n],n)}}var s="Webkit Moz O ms".split(" "),c=.001;t.exports={extend:function e(t,n,r){for(var i in t=t||{},r=r||!1,n=n||{})if(n.hasOwnProperty(i)){var a=t[i],s=n[i];r&&o(a)&&o(s)?t[i]=e(a,s,r):t[i]=s}return t},render:function(e,t){var n=e;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=new RegExp("\\{"+r+"\\}","g");n=n.replace(o,i)}return n},setStyle:r,setStyles:function(e,t){a(t,function(t,n){null!=t&&(o(t)&&!0===t.prefix?r(e,n,t.value):e.style[n]=t)})},capitalize:i,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:o,forEachObject:a,floatEquals:function(e,t){return Math.abs(e-t)<c},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},{}]},{},[4])(4)});var r=window.location.origin,i=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),o=function(e,t){try{const n=document.querySelector("#kamidata");if(n){const r=n.dataset.kamiUserId;r&&((t=t||{}).version_name="Kami Schoology",t.session_id=i,payload={name:e,value:t},axios.post("https://web.kamihq.com/api/events",payload,{params:{user_id:r}}))}}catch(e){console.error(e)}},a=document.createElement("div"),s=function(e){var t=e.slice(e.indexOf("?"));for(match=void 0,search=/([^&=]+)=?([^&]*)/g,query=t.substring(1),urlParams={};match=search.exec(query);)key=decodeURIComponent(match[1]),value=decodeURIComponent(match[2]),urlParams[key]=value;return urlParams}(document.location.search);let c=!1;try{c=!!localStorage.getItem("kami-grader")}catch(e){}function u(){let e=document.querySelectorAll(".comment-body-wrapper"),t=null;for(let n=e.length-1;n>-1;n--){let r=e[n];if(l(r)){let e=r.querySelector(".revision-notification");if(e){t=e.innerText.split(" ")[1];break}if(r.innerText.match(/Open Revision [0-9]+ in Kami/)){t=r.innerText.match(/Open Revision ([0-9]+) in Kami/)[1];break}}}return t}function l(e){if(!e)return null;let t=e.querySelector("a");if(!t)return null;let n=t.href;if(!n)return null;if(!n.includes("web/viewer.html"))return null;{let e=n.split("viewer.html?")[1],t=new URLSearchParams(e);if(t.get("state")){let e=JSON.parse(t.get("state"));if(e.ids&&e.ids[0])return{document_identifier:e.ids[0],storage:"googledrive"}}if("onedrive"===t.get("source"))return{document_identifier:t.get("document_identifier"),encoded_onedrive_drive_id:t.get("encoded_onedrive_drive_id"),storage:"onedrive"}}}function d(e){let t=document.querySelectorAll(".comment-body-wrapper");if(!t)return null;for(let n=0;n<t.length;n++){let r=t[n],i=r.querySelector(".revision-notification");if(i){if(i.innerText.split(" ")[1]!==e)continue}else if(!r.innerText.includes(`Open Revision ${e} in Kami`))continue;let o=l(r);if(o)return o}return null}function p(){let e=document.querySelectorAll("iframe");return e[Array.from(e).findIndex(e=>"kami-iframe"!==e.id&&(!e.style.display||e.attributes["km-schoology-iframe"]))]}function h(e){let t=document.querySelector("#kami-iframe"),r=p();if(r&&(r.style.display="none",r.setAttribute("km-schoology-iframe",1)),!t&&e){let t;if("onedrive"===e.storage)t=`${n}/web/viewer.html?document_identifier=${e.document_identifier}&source=onedrive&encoded_onedrive_drive_id=${e.encoded_onedrive_drive_id}&schoology_grading=1`;else{const r={ids:[e.document_identifier]};t=`${n}/web/viewer.html?state=${encodeURIComponent(JSON.stringify(r))}&schoology_grading=1`}r.insertAdjacentHTML("afterend",`<iframe src="${t}"\n      id="kami-iframe" frameborder="0" width="100%" height="100%" allowfullscreen="true" allow="camera *;microphone *"/>`)}}function f(){let e=p();e&&(e.style.display="",e.removeAttribute("km-schoology-iframe"))}function m(){let e=document.querySelector("#dropbox-viewer-revision-select-button .ui-selectmenu-status").innerText.split(" ")[1],t=u(),n=d(e),r=null;e!=t&&(r=n?"Kami can not be used to grade this assignment submission \n      because Kami has a copy of a later revision.":"Kami can not be used to grade this assignment submission \n      because a valid Kami link could not be found."),function(e){let t=document.querySelector("#grade_with_kami_wrapper");if(t)return;let n=document.querySelector("#s-grade-item-edit-enrollment-grade-form"),r="beforebegin",i="km-graded-wrapper",o="Grade with Kami";if(n||(n=document.querySelector("#dropbox-viewer-grade"),r="afterbegin",i="km-ungraded-wrapper",o="Open with Kami"),!n)return null;let a=`<div id="grade_with_kami_wrapper"\n    class="${e?"km-tooltip":""} ${i}">\n      ${o}\n    <input type="checkbox" style="margin-left: 4px;" ${e?"disabled":""} />\n    <div class="km-tooltiptext">\n      ${e}\n    </div>\n  </div>`;if(n.insertAdjacentHTML(r,a),t=document.querySelector("#grade_with_kami_wrapper")){let e=t.querySelector("input");e&&(e.checked=c,e.onchange=(e=>{if(c=e.target.checked){try{localStorage.setItem("kami-grader",1)}catch(e){}let t=d(u());t&&h(t)}else{try{localStorage.removeItem("kami-grader")}catch(e){}f()}}))}}(r),!r&&c?h(n):f()}document.head.insertAdjacentHTML("beforeend",'<style type="text/css">\n  .km-tooltip {\n    position: relative;\n    display: inline-block;\n  }\n\n  .km-tooltip .km-tooltiptext {\n    width: 241px;\n    text-align: center;\n    border-radius: 1px;\n    padding: 1em;\n    position: absolute;\n    z-index: 1;\n    border: 1px solid black;\n    right: -68px;\n    margin-top: 2px;\n    background-color: white;\n  }\n\n  .km-tooltiptext {\n    visibility: hidden;\n  }\n\n  .km-tooltip:hover .km-tooltiptext {\n    visibility: visible;\n  }\n\n  .km-graded-wrapper {\n    padding: 2px 25px 3px 6px; \n    font-weight: 600;\n    position: absolute; \n    margin-left: -140px; \n    margin-top: 14px;\n  }\n\n  .km-ungraded-wrapper {\n    font-weight: 600;\n    position: absolute; \n    margin-left: -140px; \n  }\n</style>');var g=!!document.querySelector('link[href="https://asset-cdn.schoology.com/sites/all/modules/schoology_core/s_course/s_course_unified_ui.css"'),y=document.location.pathname.match(/^\/assignment\/([0-9]+)\/info/),v=document.location.pathname.match(/^\/assignment\/([0-9]+)\/dropbox\/view\/[0-9]/),_=y||v;if(_){try{g||function(){var e=_[1];if(document.querySelectorAll("#main-inner .attachments-file").forEach(function(t){const i=t.querySelector(".attachments-file-name a");if(!t.querySelector(".pdf-icon")&&!i.href.endsWith(".pdf"))return;var o=t.querySelector(".sExtlink-processed").href,s=t.querySelector(".sExtlink-processed").innerText,c=document.querySelector(".page-title").innerText;const u=t.querySelector(".infotip-content"),l=o.match(/\/attachment\/([0-9]+)\/source/);if(!l)return;const d=l[1],p=u&&u.textContent.includes("k_sch_"),h={schoology:{assignment_id:e,assignment_name:c,attachment_id:d,schoology_origin:r}};function f(t){const r="schoology-"+e+"-attachment-"+d,i=new URL(o);p&&i.searchParams.set("schoology_encoded_file_name",u.textContent);const a=new URL(`${n}/web/viewer.html`);a.searchParams.set("file",i.toString()),a.searchParams.set("individual_copy_key",r),a.searchParams.set("source","schoology"),a.searchParams.set("integration_data",JSON.stringify(h)),a.searchParams.set("filename",s),a.searchParams.set("referer",document.location.href),window.open(a.toString(),"_blank")}u&&p&&(h.schoology.storage=u.textContent.includes("k_o_k_sch_")?"onedrive":"googledrive");let m=t.querySelector(".attachments-file-name"),g=m.querySelector(".view-file-popup");g&&(g.style.display="none");let y=t.querySelector(".delete-attachment"),v=document.createElement("div");v.classList="kami-open-button-container";let _=p?"Assignment ":"";v.innerHTML=`<a class="link-btn kami-open-button" target="_blank" title="Open ${_}With Kami" alt="open ${_}with kami"><span></span>Open ${_}With Kami</a>`,v.addEventListener("click",f),t.insertBefore(v,y);let w=m.querySelector("a")||m.querySelector(".sExtlink-processed");w.onclick=function(e){e.preventDefault(),f()};let b=`<div class="action-links-wrapper action-links-wrapper-regular " style="display: inline-block; float: none; position: relative;">\n      <div tabindex="0" role="button" href="#" class="action-links-unfold" style="display: inline-block; font-size: 15px; color: rgba(0, 0, 0, 0); height: 24px;" alt="more actions" title="More Actions">\n        <span class="action-links-unfold-text" style="height: 23px; user-select: none;">o</span>\n      </div>\n      <ul class="action-links" style="display: none; right: 0;">\n        <li class="action-edit"><a href="${g.href}" id="edit-assignment" class="popups-processed sExtlink-processed" title="View PDF" alt="view pdf">View PDF</a></li>\n        <li class="action-library-save"><a href="${w.href}" id="save-assignment-to-resources" class="popups-processed sExtlink-processed" title="Download" alt="download">Download</a></li>\n      </ul>\n    </div>`;a.innerHTML=b;let k=a.children[0];a.removeChild(k),t.insertBefore(k,y);let S=k.querySelector(".action-links-unfold"),x=S.parentNode.parentNode.querySelector(".action-links");window.addEventListener("click",function(e){e.target===S||S.contains(e.target)||"none"!==x.style.display&&(x.style.display="none")}),S.addEventListener("click",function(){"none"===x.style.display?x.style.display="block":x.style.display="none"})}),s.kami_return_assignment_url){o("Schoology Turnin",{state:"PageScript Initial"});var t=`<div class="kami-overlay kami-overlay-fullscreen">\n    <img src="${n}/web/images/icon256.png" id="kami-logo">\n      <div id="kami-progress-bar"></div>\n    </div>`;a.innerHTML=t;var t=a.children[0];a.removeChild(t),document.body.appendChild(t);var i=new ProgressBar.Line("#kami-progress-bar",{strokeWidth:8,color:"#3F51B5",trailColor:"#c9c9c9",trailWidth:4,svgStyle:{width:"100%",height:"100%"},text:{value:"Getting Ready...",style:{color:"#000",padding:20,margin:0,transform:null},autoStyleContainer:!1},step:function(e,t){t.setText(Math.round(100*t.value())+" %")}}),c=document.querySelector("[href='/assignment/"+e+"/dropbox/submit']");if(!c)return history.pushState(null,"",document.location.toString().split("?")[0]),t.remove(),alert("We were unable to turn in this file. This may be because you are a teacher in this course, or because the assignment is locked, or submissions might be disabled. You can return to Kami by clicking the 'Open With Kami' button and export your work manually."),void o("Schoology Turnin",{state:"Failed",cause:"SUBMIT_NOT_FOUND"});c.click();var u=s.kami_return_assignment_file_name||"submission.pdf",l=u.match(/^(.*)\.(\S*)$/);l?u=l[1]+".pdf":u+=".pdf";o("Schoology Turnin",{state:"Waiting for upload token"});var d=setInterval(function(){Drupal&&Drupal.settings&&Drupal.settings.s_attachment&&Drupal.settings.s_attachment.file_service_upload&&Drupal.settings.s_attachment.file_service_upload.token&&(clearInterval(d),o("Schoology Turnin",{state:"Fetch return PDF"}),axios.get(s.kami_return_assignment_url,{responseType:"blob",onDownloadProgress:function(e){i.animate(e.loaded/e.total*.5)}}).catch(function(e){console.warn("Kami Fetch PDF error",e),o("Schoology Turnin",{state:"Fetch PDF error",error:e,url_params:s})}).then(function(e){o("Schoology Turnin",{state:"Upload To Schoology"});var t=new FormData;return t.append("name",u),t.append("use_plain",1),t.append("file",e.data),axios.post(`${r}/file/upload-service`,t,{headers:{Authorization:"Bearer "+Drupal.settings.s_attachment.file_service_upload.token},onUploadProgress:function(e){i.animate(e.loaded/e.total*.5+.5)}})}).then(function(e){o("Schoology Turnin",{state:"Show Submit Dialog"});var r=e.data,i={};i[r.fileMetadataId]={title:u,encode:!0},document.querySelector("[name='file[files]'").value=JSON.stringify(i);var c=`<div class="progressWrapper" id="o_1cer5oedb1u3qlrt61qr7s174oa" style="opacity: 1;">\n            <div class="progressContainer green">\n              <span class="progressName" id="file-${r.fileMetadataId}">${u}</span>\n              <div class="progressBarStatus">Complete</div><div class="progressBarComplete" style="">\n              </div>\n              <div class="file-details-content clearfix" style="display: none;">\n              </div>\n            </div>\n          </div>`;a.innerHTML=c;var l=a.children[0];a.removeChild(l),document.querySelector("#attachments-added-container").appendChild(l),Popups.resizeAndCenter(Popups.activePopup()),history.pushState(null,"",document.location.toString().split("?")[0]);var d=document.querySelector("#dropbox-submit-upload-tab-content form");d.action=d.action.split("%3F")[0];var p=s.document_identifier;if(p&&"undefined"!=p){let e;"onedrive"===s.storage?(p=encodeURIComponent(p).replace(/!/g,"%21"),e=`${n}/web/viewer.html?document_identifier=${p}&source=onedrive`,s.onedrive_drive_id&&(e+=`&encoded_onedrive_drive_id=${window.btoa(s.onedrive_drive_id)}`)):e=`${n}/web/viewer.html?state=${encodeURIComponent(JSON.stringify({ids:[p],action:"open"}))}`,$("textarea#edit-drop-item-comment").val("Open in Kami: "+e),$("textarea#edit-drop-item-comment").prop("readonly",!0)}$(t).hide()}).catch(function(e){console.warn("Kami error showing submit dialog",e),o("Schoology Turnin",{state:"Show Submit Dialog Error",error:e.toString(),url_params:s})}))},100)}}()}catch(e){o("Schoology Error",{state:"Error",message:e.message,tag:"match_updates_page"})}v&&document.location.href.match(/\?from_gb=1$/)&&m(),new MutationObserver(function(e){let t=!1;e.forEach(function(e){if(e.addedNodes)for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];!t&&r.attributes&&r.attributes.class&&r.attributes.class.value.includes("popups-extra-large")&&(m(),t=!0),!t&&["dropbox-viewer-revision-select-button","dropbox-viewer-user-select-menu","dropbox-viewer-item-select-menu"].includes(r.id)&&(m(),t=!0)}})}).observe(document.querySelector("body"),{childList:!0})}var w=document.location.pathname.match(/^\/course\/([0-9]+)\/updates/),b=document.location.pathname.match(/^\/home\/recent-activity/)||document.location.pathname.match(/^\/home/);if(w||b)try{x();var k=document.querySelectorAll("#main-inner .item-list"),S=new MutationObserver(function(e){x()});k.forEach(function(e){S.observe(e,{childList:!0,subtree:!0})})}catch(e){o("Schoology Error",{state:"Error",message:e.message,tag:"match_updates_page"})}function x(){document.querySelectorAll('#main-inner .attachments-file:not([kami-processed="true"])').forEach(function(e){if(e.setAttribute("kami-processed","true"),e.querySelector(".pdf-icon")){var t=e.querySelector(".sExtlink-processed").href,r=e.querySelector(".sExtlink-processed").innerText;const a=t.match(/\/attachment\/([0-9]+)\/source/);if(!a)return;const s="schoology-attachment-"+a[1];var i=e.querySelector(".attachments-file-name"),o=document.createElement("a");o.innerHTML="OPEN WITH KAMI",o.classList="kami-link",o.addEventListener("click",function(e){const i=new URL(`${n}/web/viewer.html`);i.searchParams.set("file",t),i.searchParams.set("individual_copy_key",s),i.searchParams.set("source","schoology"),i.searchParams.set("filename",r),i.searchParams.set("referer",document.location.href),window.open(i.toString(),"_blank")}),i.appendChild(o)}})}var T=document.location.pathname.match(/^\/assignment\/([0-9]+)\//),C=document.location.pathname.match(/^\/course\/([0-9]+)\/materials-unified/);if((T||C)&&g){if(s.kami_return_assignment_url){o("Schoology Elementary Turnin",{state:"PageScript Initial"});var P=`<div class="kami-overlay kami-overlay-fullscreen">\n      <img src="${n}/web/images/icon256.png" id="kami-logo">\n        <div id="kami-progress-bar"></div>\n        <div id="kami-completed" class="kami-elementary-message" style="display: none">\n           Your assignment has been submitted.\n        </div>\n        <div id="kami-error" class="kami-elementary-message" style="display: none">\n           There was an error submitting your assignment, please try again.\n        </div>\n        <button id="kami-finished-button" style="display: none">OK</button>\n      </div>`;a.innerHTML=P;P=a.children[0];a.removeChild(P),document.body.appendChild(P);var O=new ProgressBar.Line("#kami-progress-bar",{strokeWidth:8,color:"#3F51B5",trailColor:"#c9c9c9",trailWidth:4,svgStyle:{width:"100%",height:"100%"},text:{value:"Getting Ready...",style:{color:"#000",padding:20,margin:0,transform:null},autoStyleContainer:!1},step:function(e,t){t.setText(Math.round(100*t.value())+" %")}});let e=s.kami_return_assignment_file_name||"submission.pdf",t=e.match(/^(.*)\.(\S*)$/);t?e=t[1]+".pdf":e+=".pdf",o("Schoology Elementary Turnin",{state:"Fetch return PDF"}),axios.get(s.kami_return_assignment_url,{responseType:"blob",onDownloadProgress:function(e){O.animate(e.loaded/e.total*.5)}}).catch(function(e){console.warn("Kami Fetch PDF error",e),o("Schoology Elementary Turnin",{state:"Fetch PDF error",error:e,url_params:s})}).then(function(e){return axios.get(`${r}/uploads/token`).then(function(t){return o("Schoology Elementary Turnin",{state:"Upload To Schoology"}),axios.post(`${r}/svc/file-upload-service/multipart/start`,{},{headers:{Authorization:`Bearer ${t.data.data.token}`}}).then(function(n){return axios.post(`${r}/svc/file-upload-service/multipart/chunk`,{filename:n.data.filename,uploadId:n.data.uploadId,partNumber:1},{headers:{Authorization:`Bearer ${t.data.data.token}`}}).then(function(i){return axios.put(i.data.signedUrl,e.data,{onUploadProgress:function(e){O.animate(e.loaded/e.total*.5+.5)}}).then(function(e){return console.log(e),axios.post(`${r}/svc/file-upload-service/multipart/finish`,{etags:[{eTag:e.headers.etag,partNumber:1}],filemime:"application/pdf",filename:n.data.filename,uploadId:n.data.uploadId},{headers:{Authorization:`Bearer ${t.data.data.token}`}})})})})})}).then(function(e){o("Schoology Elementary Turnin",{state:"Submit Assignment"});let t=document.location.pathname.match(/^\/assignment\/([0-9]+)\//)[1],i=document.evaluate("//script[contains(., 'course-materials-container')]",document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue.innerHTML,a=i.match(/\"csrf\":{\"key":\"([^\"]+)\","token":"([^\"]+)\"}/),c=a[1],u=a[2],l=i.match(/sectionId":"([0-9]+)"/)[1];return axios.post(`${r}/v2/sections/${l}/assignments/${t}/upload`,{fileId:e.data.fileId,fileType:"upload"},{headers:{"x-csrf-key":c,"x-csrf-token":u}}).then(function(){var e=s.document_identifier;if(e&&"undefined"!=e){let i;return"onedrive"===s.storage?(e=encodeURIComponent(e).replace(/!/g,"%21"),i=`${n}/web/viewer.html?document_identifier=${e}&source=onedrive`,s.onedrive_drive_id&&(i+=`&encoded_onedrive_drive_id=${window.btoa(s.onedrive_drive_id)}`)):i=`${n}/web/viewer.html?state=${encodeURIComponent(JSON.stringify({ids:[e],action:"open"}))}`,axios.get(`${r}/v2/sections/${l}/assignments/${t}`).then(function(e){return axios.get(e.data.submissions.viewUrl).then(function(t){o("Schoology Elementary Turnin",{state:"Got View Dropbox Response",response:t});let n=t.data.match(/s-drop-item-add-comment-form-form-token\" value="([A-z0-9]+)"/)[1],r=t.data.match(/form_build_id"\ id="([A-z0-9\-]+)"/)[1];var a=new FormData;a.append("form_build_id",r),a.append("form_token",n),a.append("form_id","s_drop_item_add_comment_form"),a.append("op","Add Comment"),a.append("drupal_ajax","1");let s=e.data.submissions.revisions.pop().revisionId;return a.append("comment","Open Revision "+s+" in Kami: "+i),axios.post(e.data.submissions.viewUrl,a)})}).catch(function(e){o("Schoology Elementary Turnin",{state:"Submit Grading Comment Error",error:e.toString(),stack:e.stack,url_params:s})})}return Promise.resolve()})}).then(function(){o("Schoology Elementary Turnin",{state:"Success"}),document.querySelector("#kami-progress-bar").remove(),document.querySelector("#kami-finished-button").addEventListener("click",function(){document.location=window.location.href.replace(window.location.search,"")}),document.querySelector("#kami-completed").style.display="block",document.querySelector("#kami-finished-button").style.display="block"}).catch(function(e){document.querySelector("#kami-error").style.display="block",document.querySelector("#kami-finished-button").style.display="block",document.querySelector("#kami-finished-button").addEventListener("click",function(){document.location=window.location.href.replace(window.location.search,"")}),console.warn("Kami error showing submit dialog",e),script_tags=Array.from(document.querySelectorAll("script")).map(function(e){return e.innerHTML}).filter(function(e){return e.length>20}),o("Schoology Elementary Turnin",{state:"Submission Error",error:e.toString(),stack:e.stack,url_params:s,script_tags:script_tags})})}try{new MutationObserver(function(e){!function(){var e=document.location.pathname.match(/^\/assignment\/([0-9]+)\//);if(e){var t=e[1];document.querySelectorAll("._3nnjX").forEach(function(e){const i=e.querySelector("a");if(e.querySelector(".kami-open-button-container, .kami-logo-span"))return;if(!i.href.endsWith(".pdf"))return;const o=i.href,s=i.innerText,c=document.querySelector("._17Z60").innerText,u=o.match(/\/attachment\/([0-9]+)\/source/);if(!u)return;const l=u[1];var d={schoology:{assignment_id:t,assignment_name:c,attachment_id:l,schoology_origin:r}};const p="schoology-"+t+"-attachment-"+l,h=new URL(o),f=new URL(`${n}/web/viewer.html`);f.searchParams.set("file",h.toString()),f.searchParams.set("individual_copy_key",p),f.searchParams.set("source","schoology"),f.searchParams.set("integration_data",JSON.stringify(d)),f.searchParams.set("filename",s),f.searchParams.set("referer",document.location.href);let m=f.toString();var g=document.createElement("span");g.classList="kami-logo-span";let y=e.querySelector("a");if(y.href=m,y.prepend(g),!document.querySelector(".kami-elementary-instructions")){instructions_wrapper_div=document.querySelector("._3dHTa"),a.innerHTML='<div class="kami-elementary-instructions">\n                      <div>\n                        <h3>Click on the assignment above to open in Kami, then click "Turn in" when you are finished.</h3>\n                      </div>\n                      <img src="https://storage.googleapis.com/misc-tmp/Schoology%20Turn%20in.png"/>\n                      <a id="kami-elementary-manual-submit">Show manual submission options</a>\n                </div>';var v=a.children[0];a.removeChild(v),instructions_wrapper_div.prepend(v),instructions_wrapper_div.querySelector("._1XQ7B").style.display="none",document.querySelector("#kami-elementary-manual-submit").addEventListener("click",function(){instructions_wrapper_div.querySelector("._1XQ7B").style.display=null,instructions_wrapper_div.querySelector(".kami-elementary-instructions").remove()}),document.querySelector(".StartBar-startBar-3GLZy button").addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),document.location=m})}})}}()}).observe(document.querySelector("body"),{childList:!0,subtree:!0})}catch(e){o("Schoology Error",{state:"Error",message:e.message,tag:"match_elementary_view_launch"})}}var E=document.location.pathname.match(/^\/course\/([0-9]+)\/materials/),A=document.location.pathname.match(/^\/course\/([0-9]+)\/grades/);(E||A||_)&&"undefined"!=typeof Drupal&&(Drupal.behaviors.sGradeItemKamiAssignmentSubmission=function(e){var t;function i(e){if(!e.path.reduce(function(e,t){return!(!t.classList||!t.classList.contains("kami-tooltip"))||e},!1)){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),Popups.saveSettings(),o("Schoology Assignment Dialog",{state:"Open Picker Iframe"});var i=Popups.activePopup(),a=Popups.options({ajaxForm:!1,extraClass:"popups-extra-large s-grade-item-assignment-submission-popup",updateMethod:"none",hijackDestination:!1,disableCursorMod:!0,disableAttachBehaviors:!1}),s=`<iframe id="schoology-app-container" frameborder="0" width="100%" height="600" \n         src="${n}/web/viewer.html?open_dialog=lti_google_file_picker&seamless_dialog=true&parent_origin=${encodeURIComponent(r)}&schoology=1&supports_microsoft=1" name="schoology-app-container"\n         class="sAppLauncher-processed" style="height: 600px;"></iframe>\n         `;t=Popups.openPathContent("assignment_submission_app","Add Assignment From Kami",s,e.target,a,i)}}function s(e){if(e.data&&"kami_file_picker"===e.data.type)if("cancel"===e.data.action)Popups.close(t),o("Schoology Assignment Dialog",{state:"Picker iFrame Cancel"});else if("picked"===e.data.action){o("Schoology Assignment Dialog",{state:"Picker iFrame File Picked"});var i=`<div class="kami-overlay">\n               <img src="${n}/web/images/icon256.png" id="kami-logo">\n               <div id="kami-progress-bar"></div>\n             </div>`;document.querySelector(`#${t.id}  .popups-body`).innerHTML=i;var a,s=new ProgressBar.Line("#kami-progress-bar",{strokeWidth:8,color:"#3F51B5",trailColor:"#c9c9c9",trailWidth:4,svgStyle:{width:"100%",height:"100%"},text:{value:"Getting Ready...",style:{color:"#000",padding:20,margin:0,transform:null},autoStyleContainer:!1},step:function(e,t){t.setText(Math.round(100*t.value())+" %")}}),u=e.data,l=u.file_name.match(/^(.*)\.(\S*)$/),d=u.current_user.current_license,p="";d&&d.license_key&&d.allow_auto_enrollment&&(p="k_lic_"+btoa(d.license_key)+"_");var h="";switch(u.storage){case"onedrive":h="k_o_";break;case"googledrive":h="k_g_"}var f="k_sch_"+btoa(u.current_user.email)+"_";a=p+h+(a=l?f+l[1]+".pdf":f+u.file_name+".pdf"),headers={},u.authorization_header&&(headers.Authorization=u.authorization_header),axios.get(u.download_url,{responseType:"blob",onDownloadProgress:function(e){s.animate(e.loaded/e.total*.5)},headers:headers}).then(function(e){var t=new FormData;return t.append("name",a),t.append("use_plain",1),t.append("chunks",1),t.append("chunk",0),t.append("file",e.data),axios.post(`${r}/s_attachment_upload_chunked/2`,t,{onUploadProgress:function(e){s.animate(e.loaded/e.total*.5+.5)}})}).then(function(e){if(console.log(e),e.request.responseURL.startsWith("https://app.schoology.com/login"))return void Popups.openPathContent("assignment_submission_logged_out_error","Logged Out",'<div class="kami-logged-out-dialog">\n                     <p>You have been logged out of Schoology. Please login and try again.</p>\n\n                     <button onclick="window.location.href = \'https://app.schoology.com/login\'" class="kami-logged-out-dialog-login-button">Log In</button>\n                   </div>',null,Popups.options({ajaxForm:!1,updateMethod:"none",hijackDestination:!1,disableCursorMod:!0,disableAttachBehaviors:!1}),Popups.activePopup());var n=document.querySelector("[name='file[files]'"),r={};try{r=JSON.parse(n.value)}catch(e){}let i=u.file_name+".Kami";r[e.data.file.fid]={title:i,encode:!0,kami_assignment:!0},n.value=JSON.stringify(r),c({title:i});var a=document.querySelector(".s-grade-item-assignment-submission-content-remove"),s=function(t){var r={};try{r=JSON.parse(n.value)}catch(e){}delete r[e.data.file.fid],n.value=JSON.stringify(r),a.removeEventListener("click",s)};a.addEventListener("click",s),Popups.close(t),o("Schoology Assignment Dialog",{state:"Kami Attachment Ready"})}).catch(function(e){document.querySelector(`#${t.id} .popups-body .kami-overlay`).innerHTML=`\n                <div style="margin: 0 5em">\n                  <h5 color="">Oops, an error occurred when loading your file</h5>\n                  <p>It is possible that some of the network resources used by Kami have been blocked.\n                    Please contact your network administrator and make sure \n                    <a href="https://help.kamiapp.com/en/articles/1420804-kami-network-requirements" target="_blank">\n                      Kami Network Requirements\n                    </a> are met.\n                  </p>\n                  <pre class="debug-message" ng-if="error_message">${u.debug_print}</pre>\n                </div>`,o("Schoology Error",{error:{name:e.name,message:e.message,stack:e.stack}})})}}function c(e){$(".s-grade-item-assignment-submission-app, .s-grade-item-kami-assignment-submission-app").each(function(){var e=$(this);"kami"==e.data("app-nid")?e.addClass("active"):e.hide()}),e.icon&&e.icon.url&&($(".s-grade-item-assignment-submission-content-icon").css("background-image","url("+e.icon.url+")"),e.icon.width&&e.icon.height&&function(e){var t=$(".s-grade-item-assignment-submission-content-icon"),n=$(".s-grade-item-assignment-submission-content-title"),r=parseInt(n.css("max-width"),10),i=parseInt(t.css("width"),10),o=+e.icon.width;n.css("max-width",r+i-o+"px"),t.css("width",e.icon.width+"px"),t.css("height",e.icon.height+"px")}(e)),$(".s-grade-item-assignment-submission-content-title").text(e.title),$(".s-grade-item-assignment-submission-content").show(),function(){var e=$(".adv-option-btn.toggle-dropbox");e.hasClass("adv-option-on")||e.click();e.hide()}(),function(){var e=$(".adv-option-btn.toggle-comments");e.hasClass("adv-option-on")&&e.click();e.hide()}()}!function(){try{var t=$(".course-material-type-assignment",e);if(!t.length)return;!function(){var t=`<div class="s-grade-item-assignment-submission-app" tabindex="0" data-app-nid="kami">\n         <div class="app-logo-container"><img class="app-logo" src="${n}/web/images/icon48.png"></div>\n         <div class="app-title">Kami</div>\n         <div class="kami-tooltip">New! Assign Kami files from Schoology and allow students to turn in in-app! <a href="https://help.kamihq.com/schoology/using-kamis-schoology-integration" target="_blank">Learn More</a>\n         </div>`;a.innerHTML=t;var r=a.children[0];a.removeChild(r);var o=document.querySelector(".s-grade-item-assignment-submission-apps");if(null==o){a.innerHTML='<div id="s-grade-item-assignment-submission-wrapper" class="form-row-wrapper s-grade-item-assignment-submission-inline-wrapper clearfix"><input type="hidden" name="assignment_submission_id" id="edit-assignment-submission-id" value=""><link rel="stylesheet" href="https://asset-cdn.schoology.com/sites/all/modules/schoology_core/s_grades/s_grade_item/s_grade_item_assignment_submission.css">\n   <div class="form-item ">\n    <label>Assign From App: </label>\n   </div>\n   <div class="s-grade-item-assignment-submission-container"><div class="s-grade-item-assignment-submission-apps">\n   </div>\n   <div class="s-grade-item-assignment-submission-content" style="display:none">\n         <div class="s-grade-item-assignment-submission-content-icon"></div>\n         <div class="s-grade-item-assignment-submission-content-title"></div>\n         <a href="#" class="s-grade-item-assignment-submission-content-remove sExtlink-processed" tabindex="0"></a>\n         <div class="s-grade-item-assignment-submission-content-hint">This will create a copy of your file for each student</div>\n       </div>\n   </div>';var c=a.children[0];a.removeChild(c);var u=document.querySelector("#attachments");u.parentElement.insertBefore(c,u.nextSibling);var l=document.querySelector(".s-grade-item-assignment-submission-content-remove");l.addEventListener("click",function(t){$(".s-grade-item-assignment-submission-content",e).hide(),$(".s-grade-item-assignment-submission-app",e).show().removeClass("active"),$(".adv-option-btn.toggle-dropbox").show();var n=$(".adv-option-btn.toggle-comments");n.hasClass("adv-option-on")||n.click(),n.show()}),o=document.querySelector(".s-grade-item-assignment-submission-apps")}o.appendChild(r),r.addEventListener("click",i,{capture:!0}),window.addEventListener("message",s)}(),function(){var e=document.querySelector("[name='file[files]'"),t={};try{t=JSON.parse(e.value)}catch(e){}for(const e of Object.keys(t))if(t[e].kami_assignment){var n={title:t[e].title};c(n)}}(),o("Schoology Assignment Dialog",{state:"Show"})}catch(e){console.log(e),o("Schoology Assignment Dialog",{state:"Error",error:e.message})}}()})}();